<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Revolving Dollar</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">


    <!-- Le styles -->
    <link href="./bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="./bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
    </style>



    <script type="text/javascript" src="./js/jquery-latest.min.js"></script>
    <script  src="./js/underscore-min.js" type="text/javascript"></script>
    <script  src="./js/backbone-min.js" type="text/javascript"></script>
    <script  src="./js/revolvingdollar.js" type="text/javascript"></script>


    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">LobbyBook</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#contact">Contact</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">

      <!-- Main hero unit for a primary marketing message or call to action -->
        <div class="hero-unit">
            <div class="row" style="border: 1px solid">
                <div class="span2" style="border: 1px solid">
                    <img width="200em" height="200em" src="http://boxothoughts.files.wordpress.com/2008/07/telecom.gif">
                    <h3>Sen Ator</h3>
                    
                </div>
                <div class="span7" style="border: 1px solid">
                    Network
               </div>
            </div>
      </div>



      <!-- Example row of columns -->
      <div class="row">
        <div class="span6">
          <h2>Voting Record</h2>
          <p>Chart goes here</p>
          <div id="chartContainer" style="min-width: 200px; height: 200px; margin: 0 auto"></div>

          <p><a class="btn" href="#">View details &raquo;</a></p>
        </div>
        <div class="span6">
          <h2>Committees</h2>
          <ul>
              <li>Committee 1</li>
              <li>Committee 2</li>
              <li>Committee 3</li>
              
            </ul>
          <p><a class="btn" href="#">View details &raquo;</a></p>
       </div>
      </div>

      <hr>

      <footer>
        <p>&copy; Revolving Dollar 2012</p>
      </footer>

    </div> <!-- /container -->
    <script>



        $( document ).ready(function() {
//            loadChart();

            var senators = new Array();
            var lobbyists = new Array();

            $.getJSON("data/lobbyist_network.json", function(json) {
                var nodes = json.nodes;
                var links = json.links;
//                console.log("Nodes: " + nodes);
                var nodeId = 0;
                $.each(nodes, function(i, item) {
                    if(item.type==="legislator"){
                        var senator = new Senator({ name: item.id, id: nodeId});
                        senators.push(senator);
                    }
                    if(item.type==="lobbyist"){
                        var lobbyist = new Lobbyist({ name: item.id, id: nodeId});
                        lobbyists.push(lobbyist);
                    }
                    nodeId++;

                });

                $.each(links, function(i, item) {
                    if(item.type==="legislator"){
                        var senator = new Senator({ name: item.id, id: item.id});
                        senators.push(senator);
                    }
                    if(item.type==="lobbyist"){
                        var lobbyist = new Lobbyist({ name: item.id, id: item.id});
                        lobbyists.push(lobbyist);
                    }

                });


                console.log(senators);
                console.log(lobbyists);

//                console.log("Links: " + links);
//                $.each(json, function() {
//                    console.log(json); // this will show the info it in firebug console
//                 });
            });

        });

    </script>

  <script>
  </script>


  </body>
</html>
